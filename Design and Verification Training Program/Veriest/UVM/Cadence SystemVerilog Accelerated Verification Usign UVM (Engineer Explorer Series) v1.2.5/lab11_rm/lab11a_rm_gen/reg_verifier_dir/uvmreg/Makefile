# ----------------------------------------------------------
#              This Makefile generated by regapp
#-----------------------------------------------------------

CONFIG_DIR=.
FILES = $(CONFIG_DIR)/cdns_uvmreg_utils_pkg.sv $(CONFIG_DIR)/yapp_router_regs_rdb.sv $(CONFIG_DIR)/quicktest.sv
COV_OPTS=-coverage a -covoverwrite -nowarn CGPIZE

all: run_test

clean:
		rm -rf INCA_* xrun*.log

run_test: access_file
	xrun -uvmhome default \
	$(FILES) -vclass_ext +UVM_TESTNAME=qt_test

run_cov_test:
	echo "INFO: REG_VERIFIER- Make sure that the files are generated with -cov option. If not, Please generate the files with -cov option and run again this test to see coverage metrics."
	xrun -uvmhome default \
	$(FILES) -vclass_ext +UVM_TESTNAME=qt_test $(COV_OPTS)

access_file: $(FILES)
	xrun -uvmhome default \
	+uvm_set_config_string=*,uvm_reg_generate_access_file_seq::file_name,access_file \
	$(FILES) \
	-log xrun_gen_access.log +UVM_TESTNAME=access_test
	echo "Files Created: ./access_file. Use '-afile access_file' to set the access rights"
	

